import React, { useState, useEffect, useRef } from 'react';
import './PathAnimation.scss';

function PathAnimation() {
  const path = useRef();
  const [length, setLength] = useState('0');
  const [maxPath, setMaxPath] = useState('0');
  const addLength = (e) => {
    setLength(Math.ceil(e.target.value));
  };
  document.documentElement.style.setProperty(
    '--path-length',
    Math.ceil(length)
  );
  useEffect(() => {
    const pathCurrentLength = Math.ceil(path.current.getTotalLength());
    setMaxPath(pathCurrentLength);
    setLength(pathCurrentLength);
  }, []);

  return (
    <>
      <svg
        id="Layer_1"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 649.22 943.17"
      >
        <path
          ref={path}
          className="path"
          fill="none"
          stroke="black"
          strokeWidth="5"
          strokeMiterlimit="0"
          d="M201.7,838.76c11.4-6.84,52.43-39.52,84.35-69.15s47.58-59.14,75.79-107.25,25.44-116.56,27.29-141.08-10.66-45.66-10.66-45.66c0,16-13.81,29.9-13.81,29.9s0,.59-.51,1.86c-3.42,8.5-9.74,15.71-19.33,22C317.09,547.75,285.24,557,250.17,557c-2.15,0-4.35,0-6.53-.1-19.34-.61-37.58-7.58-55.75-21.32-7.19-5.43-14.63-11-21-17.87a17.69,17.69,0,0,0-6.37-3.93l-.24-.1a18.06,18.06,0,0,1-4.68-2.57c-.49-.41-2-1.67-.11-3.84a2.54,2.54,0,0,1,1.84-1,1.12,1.12,0,0,1,1,.55c5,8.35,13.29,9.15,20.57,9.87l2,.19a331.84,331.84,0,0,0,35,2.08c21.19,0,39.74-2.82,56.7-8.63,24.82-8.5,39.71-24.56,44.26-47.74a54.66,54.66,0,0,0,.52-12.54l-.05-1.36c-.16-4.84-3.36-5.37-4.73-5.37a9.45,9.45,0,0,0-2.37.34A40.65,40.65,0,0,1,300,445.14a32.28,32.28,0,0,1-3.83-.23c-3.23-.38-5-1.52-5.81-3.69s-.26-4.4,1.81-6.71a19.63,19.63,0,0,1,9.36-6.15,15.78,15.78,0,0,1,4.34-.67c3.78,0,6.53,1.87,8.42,5.72,1,2,2.42,4.3,4.93,4.3,2,0,3.64-1.53,5-3,9.36-9.58,11.72-21.78,7.22-37.3-2.56-8.84-7.84-16.75-15.7-23.5-3-2.6-5.68-3.86-8.12-3.86-5.47,0-7.75,6.18-8.5,8.21-2.92,7.9-4.41,16.17-5.85,24.17-.69,3.82-1.4,7.76-2.26,11.59-1.17,5.23-2.54,10.92-4.33,17.88-3.94,15.38-14.45,25.39-33.09,31.51a186.89,186.89,0,0,1-59.31,9.23c-4,0-8.17-.12-12.29-.35-27.66-1.53-49.06-6.91-67.33-16.92C90.77,442.3,73,427.16,60.38,409.1c-3.88-5.54-5.89-12-7.61-18.18S48.44,376.44,44,368.7c-.29-.5-.64-1-1-1.49-1.85-2.68-1.56-2.9-.93-3.38a1.58,1.58,0,0,1,.84-.39c.71,0,1.83,1.22,2.64,2.11.43.47.88.95,1.34,1.38C58.24,377.37,72,389.42,87.62,399.58c27.65,17.95,54.41,27,81.8,27.75,1.52,0,3,.06,4.54.06,32.63,0,57.35-9.93,75.59-30.34,7.89-8.83,11.46-17.88,10.91-27.68-.55-10-5.82-15.27-15.23-15.27l-1.2,0c-9.89.43-19.26,3.39-28.32,6.26-2,.64-4.05,1.28-6.08,1.89a184.41,184.41,0,0,1-53.25,8.08,181.57,181.57,0,0,1-65.83-12.68C59.46,345.61,37,323.11,23.85,290.81c-4.09-10-8.54-22-10.58-34.83-1.13-7.16-.24-14.23.78-20.2,1.15-6.71.2-12-3-16.75A18.86,18.86,0,0,1,9,214.08c-.68-2.17,0-2.41.49-2.61a1.31,1.31,0,0,1,.41-.09c.24,0,.67.28,1.39,1.64l.38.7a10.34,10.34,0,0,1,1.09,2.43c2.47,11,11.37,15.51,18.85,18.16C44.63,239,58,240.42,71.74,241.62c23.26,2,42.44,3,60.35,3,2.91,0,5.82,0,8.65-.08l10.06-.16c17-.24,34.67-.49,52-2.63,5.28-.66,12.13-1.87,18.36-5.38,5.48-3.1,6.77-7.65,3.73-13.16a16.5,16.5,0,0,0-3.41-4.49c-14.06-12.49-28.5-18.56-44.14-18.56a63.44,63.44,0,0,0-7,.39c-14.85,1.63-29.8,4-44.26,6.35-10.25,1.65-20.86,3.35-31.31,4.77-11.16,1.5-23.8,3.21-36.16,3.21a110.6,110.6,0,0,1-19.37-1.6C26.3,211,18.9,206,15.24,197c-2.29-5.63-3.53-11.63-4.7-18.91-1.29-8-1.75-17.36,4.58-25.6,2.46-3.2,1.2-6.57.28-9-.1-.29-.22-.58-.34-.88-1-2.47-1-3.19-.27-3.81a1.64,1.64,0,0,1,1.1-.44c1,0,2.28.84,3.43,1.58l.44.27c21.36,13.53,41.88,23.1,62.73,29.28,11.71,3.47,24.41,6.68,38,6.68,1.12,0,2.25,0,3.35-.07,16.41-.65,30.79-7.81,44-21.88,2.18-2.34,3.08-4.65,2.66-6.87s-2.26-4.25-5.41-5.77c-9.05-4.33-18.67-5.32-29.4-6.09-7.05-.51-14.47-.77-22-.77-13.76,0-28.23.8-45.55,2.51-3,.29-5.66.43-8.28.43a60,60,0,0,1-11.06-1c-23.41-4.38-29.47-24.46-27.55-40.32C24,73.07,36,54,46.21,39.89c6.13-8.47,13-16.64,19.61-24.54S79.3-.72,85.49-9.24c3.2-4.42,5.62-8.91.08-15.2a28.07,28.07,0,0,1-6.86-19.39,17.84,17.84,0,0,1,1.22-6.59c1.54-3.71,3.15-5.25,5.58-5.31h.14c2.21,0,3.67,1.33,5.18,4.75a33.2,33.2,0,0,0,4.27,7.33c4.89,6.09,5.23,12.3,1,19s-.55,10.4,3.13,12.81c8.09,5.29,17.51,8.18,28.8,8.83,2.53.14,5.17.21,7.86.21,11.44,0,22.75-1.28,35.29-2.84A144.57,144.57,0,0,1,188.9-6.75c32.93,0,62.7,12.35,88.47,36.72,4.1,3.87,7.21,8.5,10.52,13.4l.81,1.21c7.45,11,7.8,22.56,1.11,36.29-3.91,8-8.95,15.51-13.83,22.78-2.21,3.28-4.48,6.67-6.64,10.07a90.17,90.17,0,0,0-7,13.06,18.26,18.26,0,0,0-1.41,9.31,10.29,10.29,0,0,0,10.14,9.4,10.64,10.64,0,0,0,4.42-1c6.48-2.93,10.81-8.37,13.85-12.78,15.92-23.1,27.08-49.67,34.11-81.23,3-13.58-1.93-24.91-14.34-32.74-9.1-5.75-19.68-9.65-33.29-12.28-.42-.08-.84-.14-1.27-.2A14.82,14.82,0,0,1,273.05,5l-.77-.19a6.3,6.3,0,0,1-1.34-.4v-.1A1,1,0,0,1,271,4h0a6.22,6.22,0,0,1,1-.07h1.11c12.34.17,24.8,1.86,36.86,3.5l3.59.49a271.17,271.17,0,0,1,41.63,8.93c21.55,6.47,33.34,20,36,41.36a226.78,226.78,0,0,1,.84,49.88c-1.82,18.88-11.7,35.22-21.25,51l-.93,1.54c-1.05,1.74-2.12,3.47-3.18,5.19-4.32,7-8.78,14.24-12.07,22-5.59,13.29-.33,20.83,5.06,24.82a17.06,17.06,0,0,0,10.1,3.76c4.14,0,8.07-1.93,11.68-5.73,6.71-7.06,10.61-15.64,13.82-23.85C404,164.75,409,141.7,413.23,120.1l.86-4.41c3.06-15.64,6.22-31.82,7.18-48.11.16-2.7.11-5.43.05-8.06,0-2.13-.08-4.33,0-6.47.16-4.57-1.89-7.7-6.27-9.57-3.43-1.46-7.31-3.12-10.46-5.67-1.26-1-1.93-2-1.89-2.84s.86-1.81,2.29-2.74a9.19,9.19,0,0,1,5-1.48,7.76,7.76,0,0,1,7.55,5.11c3,8.33,9.23,12.28,15.29,16.1l1.4.89c16.88,10.73,26.93,22.43,31.62,36.83,4,12.22,3.85,25.63-.44,42.2-3.58,13.81-9.68,27-15.58,39.73q-1.65,3.55-3.29,7.14l-1.1,2.41c-4.4,9.59-8.94,19.51-10.25,30.6a22.58,22.58,0,0,0,5.3,17.62,18.17,18.17,0,0,0,13.69,6.26,20.9,20.9,0,0,0,8.82-2,82.31,82.31,0,0,0,24-17.11c14.37-14.48,24.72-28.74,31.63-43.57a57.75,57.75,0,0,0,5.56-24.51c0-5.42-1.85-9.5-5.7-12.49a31.53,31.53,0,0,1-3.71-3.57c-1.84-2-1.67-2.4-1.12-3.08a1.67,1.67,0,0,1,1.44-.69,7.6,7.6,0,0,1,2.33.54c1.76.64,3.13,2.18,4.07,4.6,1.93,5,5.56,8.23,9.08,11.36l1.22,1.1C546,159,560.35,173.38,569.46,192c20.78,42.35,11.52,92.86-22.52,122.83-10.39,9.14-21.72,17.44-32.68,25.47l-3.46,2.54c-5,3.65-10.2,7.62-14.68,12.62-3.88,4.32-5.55,8.66-5,12.89s3.42,8.12,8.44,11.36a26.34,26.34,0,0,0,14.65,4.24,45.42,45.42,0,0,0,13.5-2.35c21.23-6.52,40.1-18.95,59.39-39.1.41-.43.81-.87,1.21-1.31.62-.68,1.2-1.32,1.82-1.92a5.81,5.81,0,0,0,2.17-4.26,5.49,5.49,0,0,0-2.35-4c-3.54-2.94-4.23-6.79-2.13-11.78,2.76-6.58,6.4-10,11.44-10.71a5.7,5.7,0,0,1,.8-.06c.76,0,3.07,0,3.45,4.69.55,6.77-2.46,12.62-5.8,17.92l-.33.51c-.95,1.48-2.14,3.32-1.91,5.75,1.78,19.67-4.79,37.81-11.67,54.7-10.38,25.46-23.35,46-39.68,62.67-19.62,20.08-42,30.27-66.54,30.27-1.68,0-3.39,0-5.08-.14-32.42-1.79-57.94-15.38-75.86-40.4-6.45-9-7.89-19.76-4.51-33.81.19-.79.43-1.57.66-2.35.14-.48.28-.95.41-1.43,1.09-3.38,6.29-11.74,9.68-13.26,20.3-9.12,39.63-23,59.11-42.42,4.63-4.61,8.64-8.88,10.92-14.41,1-2.35,1.08-4.27.32-5.4-.92-1.39-3.1-1.68-4.76-1.68h-.15c-5.35.06-10.78,1.67-17.11,5.08-21,11.28-37.6,29.1-50.86,54.49-3.08,5.88-9.51,7.84-13.74,7.84-4.54-.59-7.47-3.08-9.22-7.82-3.12-8.49-4.21-17.81-3.5-30.2l.15-2.79a197,197,0,0,1,2-21.34,141.3,141.3,0,0,1,9-17.78,219.16,219.16,0,0,0,27-63.93,25.78,25.78,0,0,0,.72-8.74c-.15-1.6-.79-4.27-3.37-4.27a6.7,6.7,0,0,0-2.92.81c-3.24,1.63-5.12,4.67-7.25,8.46-4.4,7.84-7.39,16.44-10,24.57a309.9,309.9,0,0,0-11,47.3c-.54,3.6-2.32,5.92-5.3,6.87a6.46,6.46,0,0,1-2,.33c-2.68,0-4.58-1.78-5.78-3.11a49.93,49.93,0,0,1-4.84-6.1c-3.34-5.16-6.63-10.35-9.93-15.54-5-7.88-10.18-16-15.4-23.93C319.15,256,312,228.55,313,196c.18-5.49,1-12.57,6.26-18.74a77,77,0,0,0,7.62-11.72L328,163.7c3.52-6.15,7.15-12.51,9.07-19.39.8-2.87.7-3.89-.43-4.74a2,2,0,0,0-1.27-.51c-.92,0-2.06.86-3.17,1.69l-.36.26a29.37,29.37,0,0,0-7.2,7.91c-6,9.37-8.62,20.09-11,31.16l-.14.71a13,13,0,0,1-2.2,5.65,100.83,100.83,0,0,1-15.84,16.47,16.17,16.17,0,0,1-10.28,3.92c-5,0-9.71-2.62-13-7.18l-2.09-2.92c-3-4.21-6.15-8.57-9.43-12.65-5.32-6.59-10.78-13.24-16.07-19.68-8.32-10.14-16.93-20.62-25.17-31.13-11.23-14.32-22.47-29-33.33-43.23C179.13,81,172,71.61,164.87,62.43c-5.23-6.77-10.44-13.28-16.72-18.59-2.13-1.81-3.94-3-5.83-3a4.9,4.9,0,0,0-1.7.31c-2.65,1-3.2,3.51-3.69,7a36.59,36.59,0,0,0,2.15,18.16c3,8.09,7.35,16,14.12,25.77,19,27.36,42.41,50.48,60.66,67.57,14.88,13.94,31.23,28.3,49.94,38.91a58.5,58.5,0,0,1,20.47,19.59c22.49,34.54,40.89,67.36,56.25,100.34a687.9,687.9,0,0,1,36.87,96.26c11.09,37.56,17.39,71.67,19.27,104.28,1.6,27.88.21,52.27-4.25,74.55C386.32,624,373.49,655,352,691.1c-33.2,55.81-78.64,105.06-135.08,146.38-2.32,1.7-4.72,3.36-7,5-1.61,1.12-3.23,2.24-4.83,3.38a11.17,11.17,0,0,0-1.42,1.15.56.56,0,0,0,.08.15"
          transform="translate(21.85 78.21)"
        />
      </svg>
      <div className="input-group">
        {/* eslint-disable-next-line */}
        <label htmlFor="pathlength">
          Dash-array: <span>{length}</span>
        </label>
        <input
          type="range"
          id="pathLength"
          name="pathLength"
          min="0"
          max={maxPath}
          value={length}
          onChange={addLength}
        />
      </div>
    </>
  );
}

export default PathAnimation;
